<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Gestion des Utilisateurs dans PostgreSQL - Cours de bases de données</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Gestion des Utilisateurs dans PostgreSQL";
        var mkdocs_page_input_path = "6. S\u00e9curit\u00e9 et Utilisateurs/03-utilisateurs.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Cours de bases de données
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Cours de bases de données</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">1. Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../1.%20Introduction/01-Introduction-aux-bd/">Qu'est-ce qu'une base de données ?</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../1.%20Introduction/02-Types-de-bases-de-donnees/">Types de bases de données</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../1.%20Introduction/03-Historique-des-bases-de-donnees/">Historique des bases de données</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../1.%20Introduction/04-Exemples-de-Bases-de-Donnees/">Exemples de Bases de Données dans Différents Contextes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >PostgreSQL</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../1.%20Introduction/PostgreSQL/01-Intro-a-PostgreSQL/">Introduction à PostgreSQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../1.%20Introduction/PostgreSQL/02-Avantages-de-PostgreSQL/">Avantages de PostgreSQL par rapport à d'autres SGBD</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../1.%20Introduction/PostgreSQL/03-Entreprises-utilisant-PostgreSQL/">Entreprises utilisant PostgreSQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../1.%20Introduction/PostgreSQL/04-Configuration/">Configuration de PostgreSQL</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">2. Le modèle relationnel</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../2.%20Le%20mod%C3%A8le%20relationnel/01-Pr%C3%A9sentation/">Présentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../2.%20Le%20mod%C3%A8le%20relationnel/02-DEA/">Introduction aux Diagrammes Entité-Association</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">3. SQL</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/01-intro/">1 - Introduction à SQL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/02a-bases-contacts/">2a - Base de Données de Contacts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/02b-bases-universit%C3%A9/">2b - Base de Données Université</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/03a-jointures-contacts/">3a - Requêtes avec plus d'une table (Contacts)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/03b-jointures-universit%C3%A9/">3b - Requêtes avec plus d'une table (Université)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/04a-groupes-contacts/">4a - Groupement et Agrégats (Contacts)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/04b-groupes-universit%C3%A9/">4b - Groupement et Agrégats (Université)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/05-survol-op%C3%A9rations-SQL/">5 - Survol des opérations faisant partie des requêtes SQL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/06-imbriqu%C3%A9es/">6 - Requêtes SQL imbriquées</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../3.%20SQL/07-r%C3%A9cursives/">7 - Requêtes récursives</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">4. Modélisation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../4.%20Mod%C3%A9lisation/01-mod%C3%A9lisation-EA/">Modélisation Entité-Association</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../4.%20Mod%C3%A9lisation/01b-enit%C3%A9s-faibles/">Les Entités Faibles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../4.%20Mod%C3%A9lisation/02-notation/">Différentes notations pour les DEA</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../4.%20Mod%C3%A9lisation/03-exemples/">Exemples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../4.%20Mod%C3%A9lisation/04-ea-vers-relationnel/">Conversion d'un diagramme EA en schéma relationnel</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">5. SQL Avancé</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../5.%20SQL%20Avanc%C3%A9/01-vues/">Vues</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../5.%20SQL%20Avanc%C3%A9/02-contraintes-et-d%C3%A9clencheurs/">Contraintes et Déclencheurs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../5.%20SQL%20Avanc%C3%A9/03-objet-relationel/">Modèle objet-relationel</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">6. Sécurité et Utilisateurs</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../01-s%C3%A9curit%C3%A9/">Gestion des Utilisateurs et Sécurité</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../02-rbac/">Contrôle d'Accès Basé sur les Rôles (RBAC)</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Gestion des Utilisateurs dans PostgreSQL</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#1-creation-et-gestion-des-comptes-utilisateurs">1. Création et Gestion des Comptes Utilisateurs</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#11-creation-dun-utilisateur">1.1. Création d'un Utilisateur</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#12-modification-dun-utilisateur">1.2. Modification d'un Utilisateur</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#13-suppression-dun-utilisateur">1.3. Suppression d'un Utilisateur</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-modification-de-mot-de-passe-dans-postgresql-a-partir-du-terminal-avec-psql">2. Modification de Mot de Passe dans PostgreSQL à partir du Terminal avec psql</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#21-un-utilisateur-qui-veut-modifier-son-propre-mot-de-passe">2.1. Un Utilisateur qui Veut Modifier son Propre Mot de Passe</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#22-un-administrateur-qui-veut-modifier-le-mot-de-passe-dun-autre-utilisateur">2.2. Un Administrateur qui Veut Modifier le Mot de Passe d'un Autre Utilisateur</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-options-de-create-role-et-create-user">3. Options de CREATE ROLE et CREATE USER</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#31-options-de-create-role">3.1. Options de CREATE ROLE</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#32-options-de-create-user">3.2. Options de CREATE USER</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#4-privileges">4. Privilèges</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#41-privileges-de-base">4.1. Privilèges de Base</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#42-attribution-de-privileges">4.2. Attribution de Privilèges</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#5-controle-dacces">5. Contrôle d'Accès</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#51-controle-dacces-base-sur-les-roles">5.1. Contrôle d'Accès Basé sur les Rôles</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#52-exemple-de-controle-dacces">5.2. Exemple de Contrôle d'Accès</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#postgresql-et-le-rbac">PostgreSQL et le RBAC</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#modele-de-rbac-dans-postgresql">Modèle de RBAC dans PostgreSQL</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-rbac-de-base-rbac0">1. RBAC de Base (RBAC0)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-rbac-hierarchique-rbac1">2. RBAC Hiérarchique (RBAC1)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#exemples-dutilisation-du-rbac-dans-postgresql">Exemples d'Utilisation du RBAC dans PostgreSQL</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#creation-de-roles-et-attribution-de-permissions">Création de Rôles et Attribution de Permissions</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#heritage-des-permissions">Héritage des Permissions</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">7. Exercices</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../7.%20Exercices/01-exercices/">Exercices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >DEA</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/DEA/01-blog/">1. Blog</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/DEA/02-livres/">2. Livres</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/DEA/03-transport/">3. Réseau de transports en commun</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/DEA/04-restaurants/">4. Chaîne de restaurants</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/DEA/05-voyages/">5. Agence de voyages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/DEA/06-hopital/">6. Système de gestion d'un hôpital</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >SQL</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/SQL/01-pagila/">1. Base de données Pagila</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/SQL/02-recettes/">2. Recettes de cuisine</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../7.%20Exercices/SQL/03-northwind/">3. BD Northwind</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Cours de bases de données</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">6. Sécurité et Utilisateurs</li>
      <li class="breadcrumb-item active">Gestion des Utilisateurs dans PostgreSQL</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="gestion-des-utilisateurs-dans-postgresql">Gestion des Utilisateurs dans PostgreSQL</h1>
<p>Dans PostgreSQL, les termes "utilisateur" et "rôle"
sont souvent utilisés de manière interchangeable, mais il existe des différences
subtiles. Un <code>user</code> est essentiellement un rôle avec la capacité de se
connecter (l'option <code>LOGIN</code>), tandis qu'un <code>role</code> sans cette capacité est par
défaut créé avec l'option <code>NOLOGIN</code>. Cette distinction permet de créer des rôles
qui servent uniquement à regrouper des privilèges sans permettre la connexion
directe à la base de données.</p>
<h2 id="1-creation-et-gestion-des-comptes-utilisateurs">1. Création et Gestion des Comptes Utilisateurs</h2>
<h3 id="11-creation-dun-utilisateur">1.1. Création d'un Utilisateur</h3>
<p>Pour créer un nouvel utilisateur dans PostgreSQL, vous utilisez la
commande <code>CREATE USER</code> ou <code>CREATE ROLE</code> avec l'option <code>LOGIN</code>. Voici un exemple
de création d'un utilisateur avec un mot de passe :</p>
<pre><code class="language-sql">CREATE USER nom_utilisateur WITH PASSWORD 'mot_de_passe';
</code></pre>
<p>Exemple :</p>
<pre><code class="language-sql">CREATE USER alice WITH PASSWORD 'password123';
</code></pre>
<h3 id="12-modification-dun-utilisateur">1.2. Modification d'un Utilisateur</h3>
<p>Pour modifier un utilisateur existant, vous pouvez utiliser la
commande <code>ALTER USER</code>. Par exemple, pour changer le mot de passe d'un
utilisateur :</p>
<pre><code class="language-sql">ALTER USER nom_utilisateur WITH PASSWORD 'nouveau_mot_de_passe';
</code></pre>
<p>Exemple :</p>
<pre><code class="language-sql">ALTER USER alice WITH PASSWORD 'newpassword456';
</code></pre>
<h3 id="13-suppression-dun-utilisateur">1.3. Suppression d'un Utilisateur</h3>
<p>Pour supprimer un utilisateur, utilisez la commande <code>DROP USER</code> :</p>
<pre><code class="language-sql">DROP USER nom_utilisateur;
</code></pre>
<p>Exemple :</p>
<pre><code class="language-sql">DROP USER alice;
</code></pre>
<h2 id="2-modification-de-mot-de-passe-dans-postgresql-a-partir-du-terminal-avec-psql">2. Modification de Mot de Passe dans PostgreSQL à partir du Terminal avec <code>psql</code></h2>
<p>Modifier un mot de passe dans PostgreSQL peut se faire de différentes manières
selon si l'utilisateur souhaite changer son propre mot de passe ou si un
administrateur souhaite changer le mot de passe d'un autre utilisateur. Voici
comment procéder dans les deux cas, en utilisant <code>psql</code>.</p>
<h4 id="21-un-utilisateur-qui-veut-modifier-son-propre-mot-de-passe">2.1. Un Utilisateur qui Veut Modifier son Propre Mot de Passe</h4>
<p>Pour qu'un utilisateur modifie son propre mot de passe sans l'écrire en clair
dans une commande <code>ALTER USER</code>, il peut utiliser la commande <code>\password</code>
dans <code>psql</code>. Cette commande invite l'utilisateur à entrer son nouveau mot de
passe de manière sécurisée.</p>
<p>Voici les étapes :</p>
<ol>
<li>
<p>Ouvrez le terminal et connectez-vous à PostgreSQL en tant qu'utilisateur dont
   vous souhaitez modifier le mot de passe :
   <code>sh
   psql -U nom_utilisateur -d nom_base_de_donnees</code></p>
</li>
<li>
<p>Une fois connecté, exécutez la commande <code>\password</code> :
   <code>sql
   \password</code></p>
</li>
<li>
<p>PostgreSQL vous demandera d'entrer le nouveau mot de passe deux fois pour
   confirmation :
   <code>Enter new password:
   Enter it again:</code></p>
</li>
</ol>
<p>Exemple complet :</p>
<pre><code class="language-sh">psql -U alice -d mydatabase
</code></pre>
<pre><code class="language-text">\password
Enter new password:
Enter it again:
</code></pre>
<h4 id="22-un-administrateur-qui-veut-modifier-le-mot-de-passe-dun-autre-utilisateur">2.2. Un Administrateur qui Veut Modifier le Mot de Passe d'un Autre Utilisateur</h4>
<p>Pour qu'un administrateur modifie le mot de passe d'un autre utilisateur sans
l'écrire en clair dans une commande <code>ALTER USER</code>, il peut utiliser la
commande <code>\password</code> suivie du nom de l'utilisateur cible. Cela permet de
modifier le mot de passe de l'utilisateur de manière sécurisée.</p>
<p>Voici les étapes :</p>
<ol>
<li>
<p>Ouvrez le terminal et connectez-vous à PostgreSQL en tant qu'administrateur (
   ou un utilisateur ayant les privilèges nécessaires) :
   <code>sh
   psql -U admin -d nom_base_de_donnees</code></p>
</li>
<li>
<p>Une fois connecté, exécutez la commande <code>\password</code> suivie du nom de
   l'utilisateur dont vous souhaitez modifier le mot de passe :
   <code>sql
   \password nom_utilisateur</code></p>
</li>
<li>
<p>PostgreSQL vous demandera d'entrer le nouveau mot de passe deux fois pour
   confirmation :
   <code>Enter new password:
   Enter it again:</code></p>
</li>
</ol>
<p>Exemple complet :</p>
<pre><code class="language-sh">psql -U admin -d mydatabase
</code></pre>
<pre><code>\password alice
Enter new password:
Enter it again:
</code></pre>
<h2 id="3-options-de-create-role-et-create-user">3. Options de <code>CREATE ROLE</code> et <code>CREATE USER</code></h2>
<p>PostgreSQL offre plusieurs options lors de la création d'utilisateurs et de
rôles pour spécifier leurs capacités et restrictions. Voici quelques-unes des
options les plus courantes :</p>
<h3 id="31-options-de-create-role">3.1. Options de <code>CREATE ROLE</code></h3>
<ul>
<li><strong>LOGIN/NOLOGIN</strong> : Spécifie si le rôle peut se connecter à la base de
  données.</li>
<li><strong>SUPERUSER/NOSUPERUSER</strong> : Spécifie si le rôle a des privilèges
  superutilisateur.</li>
<li><strong>CREATEDB/NOCREATEDB</strong> : Spécifie si le rôle peut créer des bases de données.</li>
<li><strong>CREATEROLE/NOCREATEROLE</strong> : Spécifie si le rôle peut créer d'autres rôles.</li>
<li><strong>INHERIT/NOINHERIT</strong> : Spécifie si le rôle hérite des privilèges des rôles
  auxquels il appartient.</li>
<li><strong>REPLICATION/NOREPLICATION</strong> : Spécifie si le rôle peut initier des
  connexions de réplication.</li>
<li><strong>CONNECTION LIMIT</strong> : Limite le nombre de connexions simultanées pour le
  rôle.</li>
</ul>
<p>Exemple :</p>
<pre><code class="language-sql">CREATE ROLE dev_team NOLOGIN;
CREATE ROLE admin WITH LOGIN SUPERUSER CREATEDB CREATEROLE;
</code></pre>
<h3 id="32-options-de-create-user">3.2. Options de <code>CREATE USER</code></h3>
<p>Les options pour <code>CREATE USER</code> sont similaires à celles de <code>CREATE ROLE</code>, avec
l'option <code>LOGIN</code> étant implicite :</p>
<ul>
<li><strong>PASSWORD</strong> : Définit le mot de passe pour l'utilisateur.</li>
<li><strong>VALID UNTIL</strong> : Définit une date d'expiration pour le mot de passe.</li>
<li><strong>CONNECTION LIMIT</strong> : Limite le nombre de connexions simultanées pour
  l'utilisateur.</li>
</ul>
<p>Exemple :</p>
<pre><code class="language-sql">CREATE USER alice WITH PASSWORD 'password123' VALID UNTIL '2024-12-31' CONNECTION LIMIT 5;
</code></pre>
<h2 id="4-privileges">4. Privilèges</h2>
<h3 id="41-privileges-de-base">4.1. Privilèges de Base</h3>
<p>Voici quelques privilèges de base que vous pouvez attribuer aux utilisateurs ou
aux rôles :</p>
<ul>
<li><strong>SELECT</strong> : Permet de lire les données d'une table.</li>
<li><strong>INSERT</strong> : Permet d'ajouter des données dans une table.</li>
<li><strong>UPDATE</strong> : Permet de modifier les données d'une table.</li>
<li><strong>DELETE</strong> : Permet de supprimer des données d'une table.</li>
<li><strong>CREATE</strong> : Permet de créer de nouvelles tables ou bases de données.</li>
<li><strong>DROP</strong> : Permet de supprimer des tables ou bases de données.</li>
</ul>
<h3 id="42-attribution-de-privileges">4.2. Attribution de Privilèges</h3>
<p>Pour attribuer des privilèges à un utilisateur ou un rôle, utilisez la
commande <code>GRANT</code>. Par exemple, pour donner des privilèges de lecture et
d'écriture sur une table :</p>
<pre><code class="language-sql">GRANT SELECT, INSERT, UPDATE, DELETE ON table_name TO nom_utilisateur;
</code></pre>
<p>Exemple :</p>
<pre><code class="language-sql">GRANT SELECT, INSERT, UPDATE, DELETE ON employees TO alice;
</code></pre>
<h2 id="5-controle-dacces">5. Contrôle d'Accès</h2>
<h3 id="51-controle-dacces-base-sur-les-roles">5.1. Contrôle d'Accès Basé sur les Rôles</h3>
<p>PostgreSQL utilise le modèle de Contrôle d'Accès Basé sur les Rôles (RBAC). Les
rôles peuvent être utilisés pour simplifier la gestion des privilèges. Par
exemple, vous pouvez créer un rôle pour les développeurs et attribuer ce rôle à
tous les utilisateurs qui sont des développeurs.</p>
<h3 id="52-exemple-de-controle-dacces">5.2. Exemple de Contrôle d'Accès</h3>
<p>Supposons que vous avez une base de données avec plusieurs tables et que vous
souhaitez gérer les accès de manière structurée :</p>
<ol>
<li>
<p><strong>Créer un rôle pour les développeurs</strong> :
   <code>sql
   CREATE ROLE dev_team;</code></p>
</li>
<li>
<p><strong>Attribuer des privilèges au rôle</strong> :
   <code>sql
   GRANT SELECT, INSERT, UPDATE, DELETE ON employees TO dev_team;</code></p>
</li>
<li>
<p><strong>Attribuer le rôle aux utilisateurs</strong> :
   <code>sql
   GRANT dev_team TO alice;
   GRANT dev_team TO bob;</code></p>
</li>
</ol>
<h3 id="postgresql-et-le-rbac">PostgreSQL et le RBAC</h3>
<p>PostgreSQL utilise le RBAC pour gérer
les permissions et les accès des utilisateurs. PostgreSQL implémente
principalement le modèle de <strong>RBAC de Base (RBAC0)</strong>, mais il supporte également
certaines fonctionnalités avancées qui permettent de créer des hiérarchies de
rôles, ce qui le rapproche du <strong>RBAC Hiérarchique (RBAC1)</strong>.</p>
<h3 id="modele-de-rbac-dans-postgresql">Modèle de RBAC dans PostgreSQL</h3>
<h4 id="1-rbac-de-base-rbac0">1. RBAC de Base (RBAC0)</h4>
<p>Dans PostgreSQL, le RBAC de base permet d'assigner des rôles aux utilisateurs et
de définir des permissions pour chaque rôle. Les utilisateurs héritent des
permissions de leurs rôles. Voici comment cela fonctionne :</p>
<ul>
<li><strong>Rôles et Utilisateurs</strong> : PostgreSQL traite les rôles et les utilisateurs de
  manière interchangeable. Un utilisateur est simplement un rôle avec la
  capacité de se connecter (<code>LOGIN</code>).</li>
<li><strong>Permissions</strong> : Les permissions sont attribuées aux rôles et peuvent inclure
  des actions comme <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>CREATE</code>, et <code>DROP</code>.</li>
</ul>
<h4 id="2-rbac-hierarchique-rbac1">2. RBAC Hiérarchique (RBAC1)</h4>
<p>PostgreSQL supporte également des fonctionnalités de hiérarchie des rôles,
permettant à un rôle d'hériter des permissions d'un autre rôle. Cela facilite la
gestion des permissions en créant des rôles parents et enfants.</p>
<ul>
<li><strong>Héritage des Rôles</strong> : Les rôles peuvent être configurés pour hériter des
  permissions d'autres rôles en utilisant l'option <code>INHERIT</code>. Par défaut, les
  rôles sont créés avec l'option <code>INHERIT</code>.</li>
</ul>
<h3 id="exemples-dutilisation-du-rbac-dans-postgresql">Exemples d'Utilisation du RBAC dans PostgreSQL</h3>
<h4 id="creation-de-roles-et-attribution-de-permissions">Création de Rôles et Attribution de Permissions</h4>
<ol>
<li>
<p><strong>Créer des rôles</strong> :
   <code>sql
   CREATE ROLE dev_team;
   CREATE ROLE qa_team;
   CREATE ROLE admin_team WITH LOGIN SUPERUSER;</code></p>
</li>
<li>
<p><strong>Attribuer des privilèges aux rôles</strong> :
   <code>sql
   GRANT SELECT, INSERT, UPDATE, DELETE ON employees TO dev_team;
   GRANT SELECT ON employees TO qa_team;</code></p>
</li>
<li>
<p><strong>Créer des utilisateurs et attribuer des rôles</strong> :
   <code>sql
   CREATE USER alice WITH PASSWORD 'password123';
   CREATE USER bob WITH PASSWORD 'password456';
   GRANT dev_team TO alice;
   GRANT qa_team TO bob;</code></p>
</li>
</ol>
<h4 id="heritage-des-permissions">Héritage des Permissions</h4>
<ol>
<li>
<p><strong>Créer un rôle parent et un rôle enfant</strong> :
   <code>sql
   CREATE ROLE senior_dev INHERIT;
   GRANT dev_team TO senior_dev;</code></p>
</li>
<li>
<p><strong>Attribuer le rôle enfant à un utilisateur</strong> :
   <code>sql
   CREATE USER charlie WITH PASSWORD 'password789';
   GRANT senior_dev TO charlie;</code></p>
</li>
</ol>
<p>Dans cet exemple, <code>charlie</code> hérite des permissions du rôle <code>dev_team</code> via le
rôle <code>senior_dev</code>.</p>
<h2 id="conclusion">Conclusion</h2>
<p>La gestion des utilisateurs dans PostgreSQL est flexible et puissante grâce à
l'utilisation des rôles et des privilèges. En suivant les bonnes pratiques de
gestion des utilisateurs et des privilèges, vous pouvez assurer une sécurité
robuste et une administration efficace de votre base de données.</p>
<hr />
<p><small>
   <cite>
      <strong>Note</strong> : <em>Page rédigée en partie avec l'aide d'un assistant IA, principalement
      à l'aide de Perplexity AI, avec les _LLM</em> <code>GPT-4 Omni</code> et <code>Claude 3.5 Sonnet</code>. L'IA
      a été utilisée pour générer des explications, des exemples et des suggestions de
      structure. Toutes les informations ont été vérifiées, éditées et complétées par
      l'auteur._
   </cite>
</small></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../02-rbac/" class="btn btn-neutral float-left" title="Contrôle d'Accès Basé sur les Rôles (RBAC)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../7.%20Exercices/01-exercices/" class="btn btn-neutral float-right" title="Exercices">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../02-rbac/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../7.%20Exercices/01-exercices/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
